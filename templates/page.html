<!doctype html>
<html lang="zh">

<head>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta charset="utf-8" />
    <title>六星干员强度投票箱</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/compare.css">
</head>

<body onload="new_compare();">
    <div class="bg">
        <div class="com">
            <table class="compare">
                <tr>
                    <!-- 左侧干员图片 在new_compare函数GET成功后更新 -->
                    <td>
                        <div class="operator-container">
                            <img id="left_png">
                            <div class="zh" id="left_png_name"></div>
                        </div>
                    </td>

                    <!-- 比较核心区域 -->
                    <td>
                        <!-- 标题 -->
                        <h1>明日方舟六星</h1>
                        <h1>强度投票箱</h1>
                        <h5>by: 董杭杭, @blackwang08, @lengyanyu258</h5>
                        <div class="compare_block">

                            <!-- 为干员投票按钮 -->
                            <div class="vote">
                                <input class="vote_button" type="button" value="👈👍" onclick="save_score_left()">
                                <input class="vote_button" type="button" value="👉👍" onclick="save_score_right()">
                            </div>

                            <h4 id="toupiao_success">&nbsp;</h4>

                            <!-- 部分辅助功能 -->
                            <div class="function">
                                <input class="skip" type="button" value="跳过，换一组" onclick="new_compare()">
                                <input class="result" type="button" value="查看投票结果" onclick="close_or_view()">
                                <input class="close" type="button" value="关闭投票结果" onclick="close_or_view()">
                            </div>

                    </td>

                    <!-- 右侧干员图片 -->
                    <td>
                        <div class="operator-container">
                            <img id="right_png">
                            <div class="zh" id="right_png_name"></div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <!-- footer部分 -->
        <div class="footer">
            <h2>V1.0.2 公测版</h2>
            <h2>规则：每次投票，得票+1分，未得票-1分，最后统计所有干员的胜率和得分，以胜率排名。</h2>
            <h2 class="red_text">警告：由于干员随机抽取，次数并不完全一样，且数据全部来源于网友投票，结果可能存在不少谬误。</h2>
            <h2 class="red_text">仅供娱乐，请勿用作抽卡建议和TTK工具！</h2>
            <h2>鸣谢：本投票两两比较的灵感来源于NGA，制作过程中得到了PRTS.wiki，血狼破军和各位群友、网友的支持和建议，在此向各位表示感谢！</h2>
            <h3>本项目已开源至GitHub仓库：</h3>
            <a href="https://github.com/SYadda/Arknights_6Star_Rank_Vote">
                https://github.com/SYadda/Arknights_6Star_Rank_Vote
            </a>
        </div>
        <!-- 不可见数据部分,在获取数据后展示 -->
        <div class="final">
            <br>
            <h1 id="已收集数据量">&nbsp;</h1>
            <br>
            <table id="final_order_table" class="final_table">
                <thead>
                    <tr>
                        <th>杯型</th>
                        <th>排名</th>
                        <th>干员代号</th>
                        <th>胜率</th>
                        <th>得分</th>
                    </tr>
                </thead>
                <tbody id="final_order_tbody"></tbody>
            </table>
        </div>



    </div>

    <button id="topBtn" onclick="scrollToTop()">回到顶部</button>

    <script type="text/javascript" src="js/geostats.min.js"></script>
    <script type="text/javascript" src="js/palette.min.js"></script>
    <script type="text/javascript" src="js/page.js"></script>

    <script type="text/javascript">

        var flag = true;
        function close_or_view() {
            if (flag) {
                flag = false;
                view_final_order()
                var close = document.getElementsByClassName('close');
                var result = document.getElementsByClassName('result');
                result[0].style.display = 'none';
                close[0].style.display = 'inline';

            }
            else {
                document.getElementById("已收集数据量").innerText = '';
                var table = document.getElementById("final_order_table");
                table.style.display = "none";
                var close = document.getElementsByClassName('close');
                var result = document.getElementsByClassName('result');
                result[0].style.display = 'inline';
                close[0].style.display = 'none';
                flag = true;
            }
        }

        // JavaScript 函数，用于滚动到页面顶部
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth' // 使用平滑滚动效果
            });
        }

        // 当页面向下滚动一定距离时，显示回到顶部按钮
        window.addEventListener('scroll', function () {
            var topBtn = document.getElementById('topBtn');
            if (document.documentElement.scrollTop > 200) { // 当滚动超过200像素时显示按钮
                topBtn.style.display = 'block';
            } else {
                topBtn.style.display = 'none';
            }
        });
    </script>
</body>

</html>