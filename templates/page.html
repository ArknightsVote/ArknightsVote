<!doctype html>
<html lang="zh">

<head>
    <meta charset="utf-8" />
    <title>六星干员强度投票箱</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/base.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/compare.css') }}" />
</head>

<body>
    <div class="bg">
        <!-- footer部分 -->
        <div class="footer">
            <h1>明日方舟六星强度投票箱</h1>
            <h2>V1.0.5 结果展示</h2>
            <h3>由于数据量已经足够多，投票箱已结束本轮投票。</h3>
            <h3>新一轮投票将在下次高难活动(合约/尖灭等)结束后开启，敬请期待！</h3>
            <br>
            <h3>萨米收藏品投票箱开放投票，欢迎来玩！</h3>
            <a href="http://114.132.188.253:8765/page">
                http://114.132.188.253:8765/page
            </a>
            <br><br>
            <h4>本轮投票时间：2023.8.31 ~ 2023.10.16</h4>
            <h4>受网络故障或恶意刷票影响的部分无效数据已删去。</h4>
        </div>
        <br>
        <div class="compare_block">

            <div style="font-size: 25px;">
              权重基准值：

              <input type="radio" id="f1" name="fiducial" value="1"/>
              <label for="1">1</label>&nbsp;&nbsp;

              <input type="radio" id="f10" name="fiducial" value="10"/>
              <label for="f10">10</label>&nbsp;&nbsp;

              <input type="radio" id="f30" name="fiducial" value="30"/>
              <label for="f30">30</label>&nbsp;&nbsp;

              <input type="radio" id="f62" name="fiducial" value="62" checked/>
              <label for="f62">62</label>&nbsp;&nbsp;

              <input type="radio" id="f100" name="fiducial" value="100"/>
              <label for="f100">100</label>&nbsp;&nbsp;

              <input type="radio" id="self" name="fiducial" value="-1"/>
              <label for="self">自定义</label>
              <input type="text" id="self_fiducial" size="4" pattern="/\d+/" value="500" style="font-size: 25px;"/>
            </div>

            <br>
            <input class="result" type="button" value="查看投票结果" onclick="close_or_view()" style="font-size: 40px;">
            <input class="close" type="button" value="关闭投票结果" onclick="close_or_view()" style="font-size: 40px;">
        </div>
        <br>
        <div class="footer">
            <h3>作者水平有限，没有限制每人的投票次数。由于部分ip投票达数千票，故引入了权重系统，默认以每个ip的平均投票数量62票为基准值，少于基准值的，每票权重为1；多于基准值的，每票的权重有所降低，权重为 (基准值 / 该ip投票总数)。</h3>
            <br>
            <h3>你可以自定义基准值（输入1 ~ 1000的整数）并重新生成投票结果。</h3>
        </div>
        <div class="footer">
            <h4>作者：董杭杭, @blackwang08, @lengyanyu258</h4>
            <h4>服务器赞助：@不会偏微分的fw</h4>
            <br>
            <h2>规则：每次投票，得票+1分，未得票-1分，最后统计所有干员的胜率和得分，以胜率排名。</h2>
            <h2 class="red_text">警告：由于干员随机抽取，且数据全部来源于网友投票，结果不够严谨，可能存在不少谬误。</h2>
            <h2 class="red_text">仅供娱乐，请勿用作抽卡建议和TTK工具！</h2>
            <h3>干员“涤火杰西卡”上线时间较短，故其投票数据相对较少。 </h3>
            <br>
            <h3>干员“赫德雷”上线时间非常短（且最近几天作者在摸鱼）</h3>
            <h3>故暂未收录赫德雷。 </h3>
            <br>
            <h2>鸣谢：本投票两两比较的灵感来源于NGA，制作过程中得到了PRTS.wiki，血狼破军和各位群友、网友的支持和建议，在此向各位表示感谢！</h2>
            <h3>本项目已开源至GitHub仓库：</h3>
            <a href="https://github.com/SYadda/Arknights_6Star_Rank_Vote">
                https://github.com/SYadda/Arknights_6Star_Rank_Vote
            </a>
        </div>
        <!-- 不可见数据部分,在获取数据后展示 -->
        <div class="final">
            <div id="statistics" style="display: none;">
                <br>
                <h1>有效投票总量：1366481 条</h1>
                <br>
                <h2>参与投票的ip总数：22059 个&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;每个ip平均投票数量：61.95 条</h2>
                <br>
            </div>

            <table id="final_order_table" class="final_table">
                <thead>
                    <tr>
                        <th>杯型</th>
                        <th>排名</th>
                        <th>干员代号</th>
                        <th>胜率</th>
                        <th>得分</th>
                    </tr>
                </thead>
                <tbody id="final_order_tbody"></tbody>
            </table>
        </div>

        <div class="final">
            <br><br>
            <img id="picture" src="/static/img/statistics.png" width="750px">
            <br><br>
        </div>

        <img id="mouse_follower" src="{{ url_for('static', filename='img/夕trans.gif') }}" alt="夕trans">
        <div class="nclassesInput">
            <label for="nclassesInput">分层数：</label>
            <input id="nclassesInput" style="font-size: medium;" type="number" min="1" max="9" value="6">
            <br>
            <label for="GVF">区分度:</label>
            <label id="GVF"></label>
        </div>
        <button id="topBtn" onclick="scrollToTop()">回到顶部</button>
    </div>

    <script type="text/javascript">
        const DATA_DICT = JSON.parse('{{ data_dict | tojson | safe }}');
    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/geostats.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/palette.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/page.js') }}"></script>
</body>

</html>
